ModuleDef IWG1 {
  IWG1 Module receives standard parameters from NASA Aircraft
}

mode (default,UserPkts,UserPkts2) {
  tmcbase = IWG1.tmc
  colbase = IWG1_col.tmc
  genuibase = IWG1.genui
  - : IWG1.tbl:IWG1.tbl.in
  DISTRIB = @MODDIR@/../IWG1
  CPPFLAGS = -I @MODDIR@/..

  mode (UserPkts) {
    tmcbase = UserPkts.tmc
    colbase = UserPkts_col.tmc
    # genuibase = UserPkts.genui
    # Move the real build targets into .spec file for now
    UserPktsdisp : UserPkts.tbl:UserPkts.tbl.in
    UserPktsext : UserPkts.cdf
    DISTRIB = @MODDIR@/../UserPkts UserPktsdisp UserPktsext
    %%
@MODDIR@/../UserPkts :
	cd @MODDIR@/.. && make UserPkts
  }

  mode (UserPkts2) {
    tmcbase = UserPkts2.tmc
    colbase = UserPkts2_col.tmc
    # genuibase = UserPkts2.genui
    # Move the real build targets into .spec file for now
    UserPktsdisp : UserPkts.tbl:UserPkts2.tbl.in
    UserPktsext : UserPkts2.cdf
    DISTRIB = @MODDIR@/../UserPkts2 UserPktsdisp UserPktsext
    %%
@MODDIR@/../UserPkts2 :
	cd @MODDIR@/.. && make UserPkts2
  }

  %%
@MODDIR@/../IWG1 :
	cd @MODDIR@/.. && make IWG1
}

%%
.PHONY : clean-IWG1
clean-dist : clean-IWG1
clean-IWG1 :
	cd @MODDIR@/.. && make clean
